<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        body{
            height: 100vh;
            overflow: hidden;
        }
        
        button{
            margin: 1em;
            cursor: pointer;
        } 

        p{
            position: absolute;
            top: 0.8em;
            left: 0.8em;
        }

        div{
            width: 100%;
            position: absolute;
            top:50%;
        }
        ul{
            display: flex;
            justify-content: space-around;
        }
        ul li.remember::before, ul li.remember::after{
            content: 'ğŸ˜‰';
        }
        form{
            text-align: center;
            margin: 100px;
            /* border: 1px solid; */
        }
        form input{
            background: none;
            border: 0;
            border-bottom: 1px solid;
            padding: 0.5em;
        }
        form input:focus{
            outline: none;
        }

        h2{
            text-align: center;
        }

        /* ul li:nth-child(1){order: 4;}
        ul li:nth-child(2){order: 3;}
        ul li:nth-child(3){order: 5;}
        ul li:nth-child(4){order: 1;}
        ul li:nth-child(5){order: 2;} */
    </style>

    <p>ğŸ˜€</p>

    <button>ğŸ¤©</button>

    <div>
        <ul>
            <li>ê¹€ì§€ìš©</li>
            <li>ë°•ì„ í›„</li>
            <li>ìœ¤ì§€í™”</li>
            <li>ì§„ê°€ì˜</li>
            <li>ìµœì£¼ì€</li>
        </ul>
        <form>
            <input type="text" placeholder="ë‹¹ì‹ ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”" required>
        </form>
    </div>

    <h2></h2>


    <script>
        // ë§ˆìš°ìŠ¤
        const p = document.querySelector("p");
        
        function followMouse(e){
            const x = e.clientX;
            const y = e.clientY;
            p.style.transform = `translate(${x}px, ${y}px)`
        }
        window.addEventListener("mousemove", followMouse)

        // ëœë¤ë°°ê²½
        const jiyongFavorites = ["tomato", "crimson", "pink", "limegreen", "dodgerblue", "yellowgreen", "whitesmoke", "salmon", "indigo", "orange", "bisque", "beige"];
        const colorBtn = document.querySelector("button");

        function changeBackground(){
            const randomDeg = Math.random() * 360;
            const firstColor = jiyongFavorites[Math.floor(Math.random() * jiyongFavorites.length)];
            const secondColor = jiyongFavorites[Math.floor(Math.random() * jiyongFavorites.length)];
            
            document.body.style.background = `linear-gradient(${randomDeg}deg, ${firstColor}, ${secondColor})`;
        }
        changeBackground();
        colorBtn.addEventListener("click", changeBackground);


        // ì´ë¦„ê¸°ì–µ
        const rememberForm = document.querySelector("form");
        const rememberInput = document.querySelector("form input");
        const studyNames = document.querySelectorAll("ul li");

        function submitName(e){
            e.preventDefault();
            localStorage.setItem("username", rememberInput.value);
            rememberInput.value = '';
            rememberName();
        }
        rememberForm.addEventListener("submit", submitName)

        function rememberName(){
            const name = localStorage.username;
            studyNames.forEach((studyName) => {
                if(studyName.innerText === name){
                    studyName.classList.add("remember");
                } else {
                    studyName.classList.remove("remember");
                }
            })
        }
        rememberName();


        //ì‹œê³„
        const h2 = document.querySelector("h2");
        let studyDay = new Date(2021, 6, 19, 21, 0, 0); // ì²« ìŠ¤í„°ë””ë‚ ì§œ
        
        function plus7Days(today){ // ìŠ¤í„°ë”” ë‚ ì§œê°€ ì§€ë‚¬ìœ¼ë©´ 7ì¼ì„ ë”í•´ì£¼ëŠ” í•¨ìˆ˜ ìƒì„±
            studyDay.setDate(studyDay.getDate() + 7); // í˜„ì¬ ë‚ ì— 7ì¼ì„ ë”í•´ì„œ ì„¸íŒ…
            if(studyDay.getTime() - today.getTime() > 0) return; // ì‹œê°„ì°¨ ì—†ìœ¼ë©´ ë¹ ì ¸ë‚˜ì˜´
            plus7Days(today); // 7ì¼ì„ ë”í•´ë„ ì‹œê°„ì°¨ê°€ ë‚¨ì•„ìˆìœ¼ë©´ í•¨ìˆ˜ ì¬ì‹¤í–‰
        }

        function whenIsStudyDay(){ 
            let today = new Date();
            let dateDiff = studyDay.getTime() - today.getTime();

            if(dateDiff < 0) plus7Days(today); 
            // ë‚ ì§œê°€ ì§€ë‚¬ìœ¼ë©´ ì˜¤ëŠ˜ë‚ ì§œë¥¼ plusSevenì— ì „ë‹¬
            dateDiff = studyDay.getTime() - today.getTime(); // dateDiff ë‹¤ì‹œ ì„¸íŒ…
            
            let studyDays = Math.floor(dateDiff/1000/60/60/24);
            let studyHours = studyDay.getHours() - today.getHours() - 1;
            if(studyHours < 0) studyHours += 24;
            let studyMins = 60 - today.getMinutes();
            let studyScns = 60 - today.getSeconds();

            h2.innerHTML = `ë‹¤ìŒ ìŠ¤í„°ë””ê¹Œì§€ ${studyDays}ì¼ ${studyHours}ì‹œê°„ ${studyMins}ë¶„ ${studyScns}ì´ˆ ë‚¨ì•˜ì–´ìš”ğŸ˜­` 
        }

        whenIsStudyDay();
        setInterval(whenIsStudyDay, 1000);

        //ëœë¤ìˆœì„œ

        const names = document.querySelectorAll("ul li");
        function randomOrder(){
            names.forEach((name)=>{
                name.style.order = Math.floor(Math.random()*1000);
                console.log(Math.floor(Math.random()*1000));
            }); // ë°˜ë³µë¬¸ìœ¼ë¡œ ê° lië“¤ì—ê²Œ orderê°’ì„ ëœë¤ìœ¼ë¡œ ì§€ì •
        };
        randomOrder();


    </script>
</body>
</html>